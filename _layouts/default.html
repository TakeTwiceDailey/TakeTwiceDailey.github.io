<!DOCTYPE html>
<html lang="en-us">

  {% include head.html %}

  <body class="theme-base-0d sidebar-overlay">

    {% include sidebar.html %}

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="{{ site.baseurl }}/" title="Home">{{ site.title }}</a>
            <small>{{ site.tagline }}</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        {{ content }}
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


    <script type="text/javascript">
    MathJax = {
      options: {
        // Remove <code> tags from the blacklist. Even though we pass an
        // explicit list of elements to process, this blacklist is still
        // applied.
        skipHtmlTags: { '[-]': ['code'] },
      },
      tex: {
        // By default, only \( is enabled for inline math, to prevent false
        // positives. Since we already only process code blocks that contain
        // exactly one math expression and nothing else, it is also fine to
        // use the nicer $...$ construct for inline math.
        inlineMath: { '[+]': [['$', '$']] },

        macros :{
          hbar: "{\\hbar{\\mathit{\\rlap{\\unicode{xAF}}h}}}"
        }
      },
      startup: {
        // This is called on page ready and replaces the default MathJax
        // "typeset entire document" code.
        pageReady: function() {
          var codes = document.getElementsByTagName('code');
          for (var i = 0; i < codes.length; i++) {
        var code = codes[i];
        // Only allow code elements that just contain text, no subelements
        if (code.childElementCount === 0) {
          var text = code.textContent.trim();
          inputs = MathJax.startup.getInputJax();
          // For each of the configured input processors, see if the
          // text contains a single math expression that encompasses the
          // entire text. If so, typeset it.
          for (var j = 0; j < inputs.length; j++) {
            // Only use string input processors (e.g. tex, as opposed to
            // node processors e.g. mml that are more tricky to use).
            if (inputs[j].processStrings) {
              matches = inputs[j].findMath([text]);
              if (matches.length == 1 && matches[0].start.n == 0 && matches[0].end.n == text.length) {
            MathJax.typeset([code]);
            break;
              }
            }
          }
        }
          }
        },
      },
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
